{"version":3,"sources":["ScreenshotGenerator/assets/iphone_1.png","ScreenshotGenerator/assets/iphone_2.jpg","ScreenshotGenerator/PerspectiveTransform.js","ScreenshotGenerator/Images.js","ScreenshotGenerator/Template.js","ScreenshotGenerator/ScreenshotGenerator.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","PerspectiveTransform","canvas","image","bgImage","Object","classCallCheck","this","ctxd","getContext","cvso","document","createElement","width","parseInt","height","ctxo","drawImage","cvst","ctxt","points","d0x","d0y","d1x","d1y","d2x","d2y","d3x","d3y","dims","Math","sqrt","pow","ow","oh","base_index","max_scale_rate","zero_num","i","rate","clearRect","ctxl","create_canvas_context","step","globalCompositeOperation","cvsl","y","sx","r","sy","ex","ey","ag","atan","sc","setTransform","translate","rotate","scale","x","save","imageSmoothingEnabled","restore","w","h","ctx","beginPath","moveTo","length","lineTo","closePath","fill","Images","imagePath","iphone_1","iphone_2","Error","concat","Template","templateId","imageLoader","_template","templates","templateImagePath","targetCoordinates","JSON","stringify","ScreenshotGenerator","_this","refs","Image","template","props","onload","src","draw","react_default","a","ref","React","Component","App","possibleConstructorReturn","getPrototypeOf","call","state","imageSelected","bind","assertThisInitialized","event","URL","createObjectURL","target","files","templateSelector","selectedIndex","IPHONE_1","IPHONE_2","setState","className","src_ScreenshotGenerator_ScreenshotGenerator","name","value","type","onChange","accept","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.7871fd1a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/iphone_1.85eec3f8.png\";","module.exports = __webpack_public_path__ + \"static/media/iphone_2.a2651bc3.jpg\";","class PerspectiveTransform {\n\n  constructor(canvas, image, bgImage) {\n    this.bgImage = bgImage\n    this.ctxd = canvas.getContext('2d')\n    this.cvso = document.createElement('canvas')\n    this.cvso.width = parseInt(image.width)\n    this.cvso.height = parseInt(image.height)\n    this.ctxo = this.cvso.getContext('2d')\n    this.ctxo.drawImage(image, 0, 0, this.cvso.width, this.cvso.height)\n    var cvst = document.createElement('canvas')\n    cvst.width = this.ctxd.canvas.width\n    cvst.height = this.ctxd.canvas.height\n    this.ctxt = cvst.getContext('2d')\n  }\n\n  draw(points) {\n    var d0x = points[0][0]\n    var d0y = points[0][1]\n    var d1x = points[1][0]\n    var d1y = points[1][1]\n    var d2x = points[2][0]\n    var d2y = points[2][1]\n    var d3x = points[3][0]\n    var d3y = points[3][1]\n    var dims = [\n      Math.sqrt(Math.pow(d0x - d1x, 2) + Math.pow(d0y - d1y, 2)),\n      Math.sqrt(Math.pow(d1x - d2x, 2) + Math.pow(d1y - d2y, 2)),\n      Math.sqrt(Math.pow(d2x - d3x, 2) + Math.pow(d2y - d3y, 2)),\n      Math.sqrt(Math.pow(d3x - d0x, 2) + Math.pow(d3y - d0y, 2)) \n    ]\n    //\n    var ow = this.cvso.width\n    var oh = this.cvso.height\n    var base_index = 0\n    var max_scale_rate = 0\n    var zero_num = 0\n    for (var i = 0; i < 4; i++) {\n      var rate = 0\n      if (i % 2) {\n        rate = dims[i] / ow\n      } else {\n        rate = dims[i] / oh\n      }\n      if (rate > max_scale_rate) {\n        base_index = i\n        max_scale_rate = rate\n      }\n      if (dims[i] == 0) {\n        zero_num++\n      }\n    }\n    if (zero_num > 1) { return }\n    //\n    var step = 2\n    var cover_step = step * 5\n    //\n    var ctxo = this.ctxo\n    var ctxt = this.ctxt\n    ctxt.clearRect(0, 0, ctxt.canvas.width, ctxt.canvas.height)\n    if (base_index % 2 == 0) {\n      var ctxl = this.create_canvas_context(ow, cover_step)\n      ctxl.globalCompositeOperation = \"copy\"\n      var cvsl = ctxl.canvas\n      for (var y = 0; y < oh; y += step) {\n        var r = y / oh\n        var sx = d0x + (d3x - d0x) * r\n        var sy = d0y + (d3y - d0y) * r\n        var ex = d1x + (d2x - d1x) * r\n        var ey = d1y + (d2y - d1y) * r\n        var ag = Math.atan((ey - sy) / (ex - sx))\n        var sc = Math.sqrt(Math.pow(ex - sx, 2) + Math.pow(ey - sy, 2)) / ow\n        ctxl.setTransform(1, 0, 0, 1, 0, -y)\n        ctxl.drawImage(ctxo.canvas, 0, 0)\n        //\n        ctxt.translate(sx, sy)\n        ctxt.rotate(ag)\n        ctxt.scale(sc, sc)\n        ctxt.drawImage(cvsl, 0, 0)\n        //\n        ctxt.setTransform(1, 0, 0, 1, 0, 0)\n      }\n    } else if (base_index % 2 == 1) {\n      var ctxl = this.create_canvas_context(cover_step, oh)\n      ctxl.globalCompositeOperation = \"copy\"\n      var cvsl = ctxl.canvas\n      for (var x = 0; x < ow; x += step) {\n        var r = x / ow\n        var sx = d0x + (d1x - d0x) * r\n        var sy = d0y + (d1y - d0y) * r\n        var ex = d3x + (d2x - d3x) * r\n        var ey = d3y + (d2y - d3y) * r\n        var ag = Math.atan((sx - ex) / (ey - sy))\n        var sc = Math.sqrt(Math.pow(ex - sx, 2) + Math.pow(ey - sy, 2)) / oh\n        ctxl.setTransform(1, 0, 0, 1, -x, 0)\n        ctxl.drawImage(ctxo.canvas, 0, 0)\n        ctxt.translate(sx, sy)\n        ctxt.rotate(ag)\n        ctxt.scale(sc, sc)\n        ctxt.drawImage(cvsl, 0, 0)\n        ctxt.setTransform(1, 0, 0, 1, 0, 0)\n      }\n    }\n    this.ctxd.drawImage(this.bgImage, 0, 0)\n    this.ctxd.save()\n    this.ctxd.imageSmoothingEnabled = true\n    this.ctxd.drawImage(ctxt.canvas, 0, 0)\n    // this._applyMask(this.ctxd, [[d0x, d0y], [d1x, d1y], [d2x, d2y], [d3x, d3y]])\n    this.ctxd.restore()\n  }\n\n\n  create_canvas_context(w, h) {\n    var canvas = document.createElement('canvas')\n    canvas.width = w\n    canvas.height = h\n    var ctx = canvas.getContext('2d')\n    return ctx\n  }\n\n  _applyMask(ctx, points) {\n    ctx.beginPath()\n    ctx.moveTo(points[0][0], points[0][1])\n    for (var i = 1; i < points.length; i++) {\n      ctx.lineTo(points[i][0], points[i][1])\n    }\n    ctx.closePath()\n    ctx.globalCompositeOperation = \"destination-in\"\n    ctx.fill()\n    ctx.globalCompositeOperation = \"source-over\"\n  }\n}\n\nexport default PerspectiveTransform","import iphone_1 from \"./assets/iphone_1.png\";\nimport iphone_2 from \"./assets/iphone_2.jpg\";\n\nclass Images {\n  image(imagePath) {\n    switch (imagePath) {\n      case \"./assets/iphone_1.png\":\n        return iphone_1\n      case \"./assets/iphone_2.jpg\":\n        return iphone_2\n      default:\n        throw new Error(`Image path invalid: ${imagePath}`)\n    }\n  }\n}\n\nexport default Images","import templates from \"./templates.json\";\nimport Images from \"./Images\";\n\n\nclass Template {\n\n  get imagePath() {\n    return this._template.templateImagePath\n  }\n\n  get image() {\n    return this.imageLoader.image(this._template.templateImagePath)\n  }\n\n  get targetCoordinates() {\n    return this._template.targetCoordinates\n  }\n\n  constructor(templateId) {\n    this.imageLoader = new Images()\n    this._template = templates[templateId]\n  }\n\n  toString() {\n    return `ImagePath: ${this.imagePath}\\nCoordinates: ${JSON.stringify(this.targetCoordinates)}`\n  }\n\n  static get IPHONE_1() {\n    return new Template('Iphone')\n  }\n  static get IPHONE_2() {\n    return new Template('Iphone_2')\n  }\n}\n\nexport default Template","import React from 'react';\nimport PerspectiveTransform from \"./PerspectiveTransform\";\nimport Template from \"./Template\";\n\nclass ScreenshotGenerator extends React.Component {\n\n  \n\n  componentDidMount() {\n    let canvas = this.refs.canvas\n    let image = new Image()\n    let bgImage = new Image()\n    let template = this.props.template\n    bgImage.onload = () => {\n      image.src = this.props.image\n    }\n    image.onload = () => {\n      canvas.width = bgImage.width;\n      canvas.height = bgImage.height;\n      let p = new PerspectiveTransform(canvas, image, bgImage);\n      p.draw(template.targetCoordinates);\n    }\n    bgImage.src = template.image\n\n\n  }\n\n  render() {\n    return (\n      <div>\n        <canvas ref=\"canvas\" />\n      </div>\n    )\n  }\n}\n\n\nexport default ScreenshotGenerator","import React from 'react';\nimport ScreenshotGenerator from \"./ScreenshotGenerator/ScreenshotGenerator\";\nimport './App.css';\nimport Template from \"./ScreenshotGenerator/Template\";\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {}\n    this.imageSelected = this.imageSelected.bind(this)\n  }\n\n  imageSelected(event) {\n    let state = { image: URL.createObjectURL(event.target.files[0]) }\n    let templateSelector = this.refs.templateSelector\n    switch (templateSelector.selectedIndex) {\n      case 0:\n        state.template = Template.IPHONE_1\n        break\n      case 1:\n          state.template = Template.IPHONE_2\n          break\n    }\n    this.setState(state)\n  }\n\n  render() {\n    let { image } = this.state\n    if (image)\n      return (\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <ScreenshotGenerator image={image} template={this.state.template} />\n          </header>\n        </div>\n      );\n    else\n      return (\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <select name=\"templates\" ref=\"templateSelector\">\n              <option value=\"iphone1\">iPhone Template 1</option>\n              <option value=\"iphone2\">iPhone Template 2</option>\n            </select>\n            <input type='file' onChange={this.imageSelected} accept=\"image/*\" />\n          </header>\n        </div>\n      );\n  }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}